\section{Motivation}


\begin{frame}
	\frametitle{Motivation}

	\begin{itemize}
		\item Metaprogramming - writing programs that analyse or modify themselves\begin{itemize}
			      \item Dynamic - metaprogramming done at run time
			      \item Static - metaprogramming done at compile time
		      \end{itemize}
		\item Makes code more expressive and resilient to change
		\item Boosts productivity
		\item Can improve performance
		\item Mostly present in garbage-collected languages at runtime\begin{itemize}
			      \item C\#
			      \item Java
			      \item Scripting languages such as Javscript or Python
		      \end{itemize}
	\end{itemize}

\end{frame}


\begin{frame}
	\frametitle{Static metaprogramming}

	\begin{itemize}
		\item Until recently a niche tool \begin{itemize}
			      \item C style preprocessor macros
			      \item D templates, compile time function execution and string mixins
		      \end{itemize}
		\item Significant developments since 2011\begin{itemize}
			      \item C++ SFINAE template metaprogramming (standardized 2011)
			      \item Rust procedural macros (introduced with the language in 2015)
			      \item C\# source generators (introduced in 2020)
		      \end{itemize}

		\item Significant current interest and more development in the future\begin{itemize}
			      \item Migration of many typical dynamic metaprogramming activities to compile time in C\#
			      \item Introduction of compile time interceptors in C\#12
			      \item Continuous development of generic programming in C++
		      \end{itemize}
	\end{itemize}

\end{frame}

\begin{frame}[fragile]
	\frametitle{Motivating example}
	\begin{lstlisting}
struct person {
	std::string name;
	int yearOfBirth;
	int height;
};
void print(
  std::ostream&s,
  person const& p) {
  s << p.name << '\n'
    << p.yearOfBirth << '\n'
    << p.height << '\n';
}
	\end{lstlisting}

\end{frame}

\begin{frame}
	\frametitle{C-=-1}

	\begin{itemize}
		\item General purpose, compiled research programming language with manual memory management
		\item Built around powerful static metaprogramming features
		\item Arbitrary code can be executed at compile time\begin{itemize}
			\item Inspect the code base and report diagnostics
			\item Access semantic information generated by the compiler
			\item Modify the program before it is translated to machine code
			\item Access the file system and external tools
		\end{itemize}
	\end{itemize}

\end{frame}

